<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login System</title>
  <link rel="icon" type="image/x-icon" href="/favicon.webp">
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap');

    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; color: #fff; }
    body { display: flex; justify-content: center; align-items: center; min-height: 100vh; background: transparent; }
    
    .container {
      position: relative; width: 650px; height: 400px;
      border: 4px solid #000; box-shadow: 8px 8px 0px 0px #000;
      overflow: hidden; border-radius: 0;
      background: linear-gradient(135deg, #25252b 50%, #e46033 100%);
      transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
    }
    .container .form-box {
      position: absolute; top: 0; width: 50%; height: 100%;
      display: flex; justify-content: center; flex-direction: column;
      z-index: 10; transition: all 0.4s ease-in-out;
    }
    .form-box.Login { left: 0; padding: 0 40px; }
    .form-box.Login .animation { transform: translateX(0); opacity: 1; transition: 0.4s ease; }
    .container.active .form-box.Login { transform: translateX(-100%); opacity: 0; pointer-events: none; }
    
    .form-box.Register { right: -50%; padding: 0 40px; opacity: 0; pointer-events: none; }
    .container.active .form-box.Register { right: 0; opacity: 1; pointer-events: auto; }

    .form-box h2 { font-size: 32px; text-align: center; margin-bottom: 15px; font-weight: 900; text-transform: uppercase; text-shadow: 3px 3px 0 #000; color: #fff; }
    .form-box .input-box { position: relative; width: 100%; height: 45px; margin-top: 10px; margin-bottom: 20px; }
    
    .input-box input {
      width: 100%; height: 100%; background: #fff; border: 3px solid #000;
      outline: none; font-size: 14px; color: #000; font-weight: 700; padding: 0 15px;
      box-shadow: 5px 5px 0 #000; transition: 0.2s;
    }
    .input-box input:focus { transform: translate(2px, 2px); box-shadow: 3px 3px 0 #000; border-color: #e46033; }
    .input-box label {
      position: absolute; top: -10px; left: 10px; background: #000; color: #fff;
      border: 1px solid #fff; padding: 1px 6px; font-size: 11px; font-weight: 700;
      text-transform: uppercase; pointer-events: none;
    }
    .input-box input:focus~label { background: #e46033; border-color: #000; }
    .input-box box-icon { display: none; }

    .btn {
      position: relative; width: 100%; height: 40px; background: #e46033;
      border: 3px solid #000; box-shadow: 5px 5px 0 #000; cursor: pointer;
      font-size: 15px; font-weight: 900; text-transform: uppercase; margin-top: 10px;
      color: #fff; transition: 0.1s;
    }
    .btn:active { transform: translate(4px, 4px); box-shadow: 1px 1px 0 #000; }

    .regi-link { font-size: 12px; text-align: center; margin-top: 15px; }
    .regi-link a {
      text-decoration: none; color: #000; font-weight: 800; background: #fff;
      padding: 2px 5px; border: 2px solid #000; margin-left: 5px;
      box-shadow: 3px 3px 0 #000; display: inline-block; transition: 0.2s;
    }
    .regi-link a:hover { transform: translate(2px, 2px); box-shadow: 1px 1px 0 #000; background: #e46033; color: #fff; }

    .info-content {
      position: absolute; top: 0; height: 100%; width: 50%; display: flex;
      justify-content: center; flex-direction: column; transition: 0.4s ease-in-out;
    }
    .info-content.Login { right: 0; text-align: right; padding: 0 40px 0 0; align-items: flex-end; }
    .container.active .info-content.Login { transform: translateX(100%); opacity: 0; }
    
    .info-content.Register { left: 0; text-align: left; padding: 0 0 0 40px; align-items: flex-start; margin-left: -50%; opacity: 0; }
    .container.active .info-content.Register { margin-left: 0; opacity: 1; }

    .logo-container { display: flex; justify-content: center; margin-bottom: 0.5rem; }
    .logo-container img { width: 160px; height: auto; filter: drop-shadow(4px 4px 0px #000); }
    
    .info-content h2 { margin-top: 0; margin-bottom: 5px; font-size: 26px; font-weight: 900; text-shadow: 3px 3px 0 #000; color: #fff; }
    .info-content p { font-size: 13px; line-height: 1.3; background: #000; color: #fff; padding: 8px; box-shadow: 5px 5px 0 #fff; border: 2px solid #fff; }
    
    .error-message {
      position: absolute; bottom: -20px; left: 0; color: #fff; background: #ff0000;
      border: 2px solid #000; font-size: 10px; font-weight: 700; padding: 2px 5px;
      opacity: 0; transition: 0.2s;
    }
    .error-message.show { opacity: 1; bottom: -22px; }
    .loading { opacity: 0.7; pointer-events: none; }
    
    .mobile-logo { display: none; text-align: center; margin-bottom: 20px; z-index: 20; }
    .mobile-logo img { width: 150px; height: auto; filter: drop-shadow(4px 4px 0px #000); }

    @media (max-width: 600px) {
      .container { width: 100%; max-width: 380px; height: 550px; margin: 20px; display: block; padding: 0; }
      .mobile-logo { display: block; position: absolute; top: 30px; left: 0; width: 100%; }
      .info-content { display: none !important; }
      .container .form-box { width: 100%; height: auto; position: absolute; top: 140px; left: 0; padding: 0 30px; justify-content: flex-start; }
      .form-box.Login { z-index: 15; opacity: 1; transform: translateY(0); pointer-events: auto; }
      .container.active .form-box.Login { opacity: 0; transform: translateY(-20px); pointer-events: none; }
      .form-box.Register { z-index: 15; opacity: 0; transform: translateY(20px); pointer-events: none; right: auto; padding-top: 0; }
      .container.active .form-box.Register { opacity: 1; transform: translateY(0); pointer-events: auto; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="mobile-logo"><img src="/game_title.png" alt="Game Title"></div>

    <div class="form-box Login">
      <h2 class="animation" style="--D:0; --S:21">Login</h2>
      <form method="post" action="/player/growid/login/validate" id="loginForm">
        <input name="type" value="log" type="hidden" />
        <input name="_token" value="{{ data }}" type="hidden" /> <div class="input-box animation" style="--D:1; --S:22">
          <input type="text" name="growId" id="loginGrowId" required>
          <label for="loginGrowId">GrowID</label>
          <div class="error-message" id="loginUsernameError"></div>
        </div>
        <div class="input-box animation" style="--D:2; --S:23">
          <input type="password" name="password" id="loginPassword" required>
          <label for="loginPassword">Password</label>
          <div class="error-message" id="loginPasswordError"></div>
        </div>
        <div class="animation" style="--D:3; --S:24">
          <button type="submit" id="loginButton" class="btn">Login</button>
        </div>
        <div class="regi-link animation" style="--D:4; --S:25">
          <p>Don't have an account? <br> <a href="#" class="SignUpLink">Sign Up</a></p>
        </div>
      </form>
    </div>

    <div class="info-content Login">
      <div class="logo-container"><img src="/game_title.png" alt="Game Title Name"></div>
      <h2 class="animation" style="--D:0; --S:20">WELCOME BACK!</h2>
      <p class="animation" style="--D:1; --S:21">We are happy to have you with us again.</p>
    </div>

    <div class="form-box Register">
      <h2 class="animation" style="--li:17; --S:0">Register</h2>
      <form method="post" action="/player/growid/login/validate" id="regisForm">
        <input name="type" value="reg" type="hidden" />
        <input name="_token" value="{{ data }}" type="hidden" /> <div class="input-box animation" style="--li:18; --S:1">
          <input type="text" name="growId" id="regisGrowId" required>
          <label for="regisGrowId">GrowID</label>
          <div class="error-message" id="regisUsernameError"></div>
        </div>
        <div class="input-box animation" style="--li:19; --S:2">
          <input type="email" name="email" id="regisEmail" required>
          <label for="regisEmail">Email</label>
          <div class="error-message" id="regisEmailError"></div>
        </div>
        <div class="input-box animation" style="--li:19; --S:3">
          <input type="password" name="password" id="regisPassword" required>
          <label for="regisPassword">Password</label>
          <div class="error-message" id="regisPasswordError"></div>
        </div>
        <div class="animation" style="--li:20; --S:4">
          <button type="submit" id="regisButton" class="btn">Register</button>
        </div>
        <div class="regi-link animation" style="--li:21; --S:5">
          <p>Already have an account? <br> <a href="#" class="SignInLink">Sign In</a></p>
        </div>
      </form>
    </div>

    <div class="info-content Register">
      <div class="logo-container"><img src="/game_title.png" alt="Game Title Name"></div>
      <h2 class="animation" style="--D:0; --S:20">WELCOME!</h2>
      <p class="animation" style="--li:18; --S:1">We're delighted to have you here.</p>
    </div>
  </div>

  <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      if (localStorage.getItem('growId')) {
        const loginGrowId = document.getElementById('loginGrowId');
        if (loginGrowId) loginGrowId.value = localStorage.getItem('growId');
      }

      const showValidationError = (el, msg) => { if(el){ el.innerHTML = msg; el.classList.add('show'); } };
      const resetErrors = (formId) => { document.getElementById(formId).querySelectorAll('.error-message').forEach(e => e.classList.remove('show')); };

      const form_regis = document.getElementById('regisForm');
      if (form_regis) {
        form_regis.addEventListener('submit', function (e) {
          e.preventDefault();
          resetErrors('regisForm');
          // Simple validation before submit
          const uName = document.getElementById('regisGrowId').value;
          if(uName.length < 3) { showValidationError(document.getElementById('regisUsernameError'), 'Min 3 chars'); return; }
          
          const btn = document.getElementById("regisButton");
          btn.textContent = "Registering...";
          setTimeout(() => { form_regis.submit(); }, 1000);
        });
        
        // Hide error on input
        form_regis.querySelectorAll('input').forEach(input => {
             input.addEventListener('input', function() {
                 const err = this.parentElement.querySelector('.error-message');
                 if(err) err.classList.remove('show');
             });
        });
      }

      const form_login = document.getElementById('loginForm');
      if (form_login) {
        form_login.addEventListener('submit', function (e) {
          e.preventDefault();
          resetErrors('loginForm');
          const uName = document.getElementById('loginGrowId').value;
          
          if(!uName) { showValidationError(document.getElementById('loginUsernameError'), 'Required'); return; }
          
          const btn = document.getElementById("loginButton");
          btn.textContent = "Logging in...";
          setTimeout(() => { 
            localStorage.setItem('growId', uName);
            form_login.submit(); 
          }, 1000);
        });
        
        form_login.querySelectorAll('input').forEach(input => {
             input.addEventListener('input', function() {
                 const err = this.parentElement.querySelector('.error-message');
                 if(err) err.classList.remove('show');
             });
        });
      }

      const container = document.querySelector(".container");
      document.querySelector(".SignUpLink").addEventListener("click", (e) => { e.preventDefault(); container.classList.add("active"); resetErrors('regisForm'); });
      document.querySelector(".SignInLink").addEventListener("click", (e) => { e.preventDefault(); container.classList.remove("active"); resetErrors('loginForm'); });
    });
  </script>
</body>
</html>